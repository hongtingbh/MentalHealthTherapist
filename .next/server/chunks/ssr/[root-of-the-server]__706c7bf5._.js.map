{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/google-genai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.5-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,6KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/summarize-journal-entry.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Summarizes a journal entry for quick review.\n *\n * - summarizeJournalEntry - A function that summarizes the journal entry.\n * - SummarizeJournalEntryInput - The input type for the summarizeJournalEntry function.\n * - SummarizeJournalEntryOutput - The return type for the summarizeJournalEntry function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst SummarizeJournalEntryInputSchema = z.object({\n  journalEntry: z\n    .string()\n    .describe('The journal entry to be summarized.'),\n});\nexport type SummarizeJournalEntryInput = z.infer<typeof SummarizeJournalEntryInputSchema>;\n\nconst SummarizeJournalEntryOutputSchema = z.object({\n  summary: z.string().describe('The summary of the journal entry.'),\n});\nexport type SummarizeJournalEntryOutput = z.infer<typeof SummarizeJournalEntryOutputSchema>;\n\nexport async function summarizeJournalEntry(\n  input: SummarizeJournalEntryInput\n): Promise<SummarizeJournalEntryOutput> {\n  return summarizeJournalEntryFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'summarizeJournalEntryPrompt',\n  input: {schema: SummarizeJournalEntryInputSchema},\n  output: {schema: SummarizeJournalEntryOutputSchema},\n  prompt: `Summarize the following journal entry in a concise and informative way:\\n\\n{{{journalEntry}}}`,\n});\n\nconst summarizeJournalEntryFlow = ai.defineFlow(\n  {\n    name: 'summarizeJournalEntryFlow',\n    inputSchema: SummarizeJournalEntryInputSchema,\n    outputSchema: SummarizeJournalEntryOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,mCAAmC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAChD,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,CAAC;AACd;AAGA,MAAM,oCAAoC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjD,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC/B;AAGO,eAAe,sBACpB,KAAiC;IAEjC,OAAO,0BAA0B;AACnC;AAEA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ;IAAgC;IAChD,QAAQ;QAAC,QAAQ;IAAiC;IAClD,QAAQ,CAAC,6FAA6F,CAAC;AACzG;AAEA,MAAM,4BAA4B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC7C;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,OAAO;IAC9B,OAAO;AACT;;;IAtBoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/detect-potential-self-harm.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Detects potential self-harm from journal entries and chat logs.\n *\n * - detectSelfHarm - A function that analyzes text for self-harm indicators.\n * - DetectSelfHarmInput - The input type for the detectSelfHarm function.\n * - DetectSelfHarmOutput - The return type for the detectSelfHarm function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst DetectSelfHarmInputSchema = z.object({\n  text: z.string().describe('The text to analyze for self-harm indicators.'),\n});\nexport type DetectSelfHarmInput = z.infer<typeof DetectSelfHarmInputSchema>;\n\nconst DetectSelfHarmOutputSchema = z.object({\n  selfHarmDetected: z\n    .boolean()\n    .describe('Whether or not self-harm indicators are detected.'),\n  guidance: z.string().describe('Guidance and resources to provide the user.'),\n});\nexport type DetectSelfHarmOutput = z.infer<typeof DetectSelfHarmOutputSchema>;\n\nexport async function detectSelfHarm(input: DetectSelfHarmInput): Promise<DetectSelfHarmOutput> {\n  return detectSelfHarmFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'detectSelfHarmPrompt',\n  input: {schema: DetectSelfHarmInputSchema},\n  output: {schema: DetectSelfHarmOutputSchema},\n  prompt: `You are a mental health expert. Analyze the following text for indicators of potential self-harm.\n\nText: {{{text}}}\n\nBased on your analysis, determine if self-harm is detected and provide appropriate guidance and resources.\nSet the selfHarmDetected field appropriately. If selfHarmDetected is true, the guidance field should contain resources and advice for the user to seek professional help.`, \n});\n\nconst detectSelfHarmFlow = ai.defineFlow(\n  {\n    name: 'detectSelfHarmFlow',\n    inputSchema: DetectSelfHarmInputSchema,\n    outputSchema: DetectSelfHarmOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,4BAA4B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzC,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC5B;AAGA,MAAM,6BAA6B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1C,kBAAkB,uIAAA,CAAA,IAAC,CAChB,OAAO,GACP,QAAQ,CAAC;IACZ,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAChC;AAGO,eAAe,eAAe,KAA0B;IAC7D,OAAO,mBAAmB;AAC5B;AAEA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ;IAAyB;IACzC,QAAQ;QAAC,QAAQ;IAA0B;IAC3C,QAAQ,CAAC;;;;;yKAK8J,CAAC;AAC1K;AAEA,MAAM,qBAAqB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACtC;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,OAAO;IAC9B,OAAO;AACT;;;IAzBoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/classify-mood-disorders.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview This file defines a Genkit flow for classifying potential mood disorders (PTSD, GAD, MMD) from user messages, including multimedia content.\n *\n * - classifyMoodDisorders - The main function to classify mood disorders.\n * - ClassifyMoodDisordersInput - The input type for the classifyMoodDisorders function.\n * - ClassifyMoodDisordersOutput - The output type for the classifyMoodDisorders function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst ClassifyMoodDisordersInputSchema = z.object({\n  message: z.string().describe('The text message from the user.'),\n  mediaDataUri: z\n    .string()\n    .optional()\n    .describe(\n      \"Optional media data URI (image, audio, or video) that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n});\nexport type ClassifyMoodDisordersInput = z.infer<typeof ClassifyMoodDisordersInputSchema>;\n\nconst ClassifyMoodDisordersOutputSchema = z.object({\n  ptsdSymptoms: z.array(z.string()).describe('Potential PTSD symptoms identified.'),\n  gadSymptoms: z.array(z.string()).describe('Potential GAD symptoms identified.'),\n  mmdSymptoms: z.array(z.string()).describe('Potential MMD symptoms identified.'),\n  summary: z.string().describe('A summary of the identified symptoms and potential mood disorders.'),\n});\nexport type ClassifyMoodDisordersOutput = z.infer<typeof ClassifyMoodDisordersOutputSchema>;\n\nexport async function classifyMoodDisorders(\n  input: ClassifyMoodDisordersInput\n): Promise<ClassifyMoodDisordersOutput> {\n  return classifyMoodDisordersFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'classifyMoodDisordersPrompt',\n  input: {schema: ClassifyMoodDisordersInputSchema},\n  output: {schema: ClassifyMoodDisordersOutputSchema},\n  prompt: `You are an AI assistant designed to identify potential symptoms of PTSD, GAD, and MMD from user messages, including text and multimedia content.\n\n  Analyze the following user message and media (if available) to identify potential symptoms related to PTSD, GAD, and MMD. Provide a summary of the identified symptoms and potential mood disorders.\n\n  Message: {{{message}}}\n  {{#if mediaDataUri}}\n  Media: {{media url=mediaDataUri}}\n  {{/if}}\n\n  Output the identified symptoms in JSON format for PTSD, GAD and MMD, as well as a text summary.\n`,\n});\n\nconst classifyMoodDisordersFlow = ai.defineFlow(\n  {\n    name: 'classifyMoodDisordersFlow',\n    inputSchema: ClassifyMoodDisordersInputSchema,\n    outputSchema: ClassifyMoodDisordersOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;AACA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,mCAAmC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAChD,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC7B,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,GACR,QAAQ,CACP;AAEN;AAGA,MAAM,oCAAoC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjD,cAAc,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;IAC3C,aAAa,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;IAC1C,aAAa,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;IAC1C,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC/B;AAGO,eAAe,sBACpB,KAAiC;IAEjC,OAAO,0BAA0B;AACnC;AAEA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ;IAAgC;IAChD,QAAQ;QAAC,QAAQ;IAAiC;IAClD,QAAQ,CAAC;;;;;;;;;;AAUX,CAAC;AACD;AAEA,MAAM,4BAA4B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC7C;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,OAAO;IAC9B,OAAO;AACT;;;IAhCoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/actions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { z } from 'zod';\nimport { summarizeJournalEntry } from '@/ai/flows/summarize-journal-entry';\nimport { detectSelfHarm } from '@/ai/flows/detect-potential-self-harm';\nimport { classifyMoodDisorders } from '@/ai/flows/classify-mood-disorders';\nimport { JournalEntry, Mood } from './definitions';\n\n// This is a mock database. In a real application, you would use a database\n// like Firestore, PostgreSQL, etc.\nconst journalEntries: JournalEntry[] = [];\nlet journalIdCounter = 1;\n\nconst NewEntrySchema = z.object({\n  content: z.string().min(1, 'Journal entry cannot be empty.'),\n  mood: z.enum(['Happy', 'Calm', 'Neutral', 'Sad', 'Anxious']),\n});\n\nexport async function createJournalEntry(prevState: any, formData: FormData) {\n  const validatedFields = NewEntrySchema.safeParse({\n    content: formData.get('content'),\n    mood: formData.get('mood'),\n  });\n\n  if (!validatedFields.success) {\n    return {\n      errors: validatedFields.error.flatten().fieldErrors,\n      message: 'Failed to create entry.',\n    };\n  }\n  \n  const { content, mood } = validatedFields.data;\n\n  try {\n    const { summary } = await summarizeJournalEntry({ journalEntry: content });\n\n    const newEntry: JournalEntry = {\n      id: (journalIdCounter++).toString(),\n      createdAt: new Date().toISOString(),\n      mood: mood as Mood,\n      content,\n      summary,\n    };\n\n    journalEntries.unshift(newEntry); // Add to the beginning of the array\n\n    revalidatePath('/journal');\n    revalidatePath('/dashboard');\n    return { message: 'Journal entry created successfully.', success: true };\n  } catch (error) {\n    console.error('Error creating journal entry:', error);\n    return { message: 'Error processing AI summary. Please try again.' };\n  }\n}\n\nexport async function getJournalEntries() {\n  // In a real app, you'd fetch this from a database\n  return Promise.resolve(journalEntries);\n}\n\nexport async function postChatMessage(message: string, mediaDataUri?: string) {\n  try {\n    // 1. Check for self-harm\n    const selfHarmCheck = await detectSelfHarm({ text: message });\n    if (selfHarmCheck.selfHarmDetected) {\n      return {\n        role: 'assistant' as const,\n        id: new Date().toISOString(),\n        selfHarmWarning: selfHarmCheck.guidance,\n        text: 'It sounds like you are going through a difficult time. Please consider reaching out for professional help.',\n      };\n    }\n\n    // 2. Classify mood disorders\n    const classification = await classifyMoodDisorders({ message, mediaDataUri });\n\n    return {\n      role: 'assistant' as const,\n      id: new Date().toISOString(),\n      text: classification.summary,\n      classification: {\n        ptsdSymptoms: classification.ptsdSymptoms,\n        gadSymptoms: classification.gadSymptoms,\n        mmdSymptoms: classification.mmdSymptoms,\n        summary: classification.summary,\n      },\n    };\n  } catch (error) {\n    console.error('Error processing chat message:', error);\n    return {\n      role: 'assistant' as const,\n      id: new Date().toISOString(),\n      text: 'I apologize, but I encountered an error and cannot respond right now. Please try again later.',\n    };\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;AAGA,2EAA2E;AAC3E,mCAAmC;AACnC,MAAM,iBAAiC,EAAE;AACzC,IAAI,mBAAmB;AAEvB,MAAM,iBAAiB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC9B,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC3B,MAAM,oIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAS;QAAQ;QAAW;QAAO;KAAU;AAC7D;AAEO,eAAe,mBAAmB,SAAc,EAAE,QAAkB;IACzE,MAAM,kBAAkB,eAAe,SAAS,CAAC;QAC/C,SAAS,SAAS,GAAG,CAAC;QACtB,MAAM,SAAS,GAAG,CAAC;IACrB;IAEA,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC5B,OAAO;YACL,QAAQ,gBAAgB,KAAK,CAAC,OAAO,GAAG,WAAW;YACnD,SAAS;QACX;IACF;IAEA,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,gBAAgB,IAAI;IAE9C,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,CAAA,GAAA,mJAAA,CAAA,wBAAqB,AAAD,EAAE;YAAE,cAAc;QAAQ;QAExE,MAAM,WAAyB;YAC7B,IAAI,CAAC,kBAAkB,EAAE,QAAQ;YACjC,WAAW,IAAI,OAAO,WAAW;YACjC,MAAM;YACN;YACA;QACF;QAEA,eAAe,OAAO,CAAC,WAAW,oCAAoC;QAEtE,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO;YAAE,SAAS;YAAuC,SAAS;QAAK;IACzE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO;YAAE,SAAS;QAAiD;IACrE;AACF;AAEO,eAAe;IACpB,kDAAkD;IAClD,OAAO,QAAQ,OAAO,CAAC;AACzB;AAEO,eAAe,gBAAgB,OAAe,EAAE,YAAqB;IAC1E,IAAI;QACF,yBAAyB;QACzB,MAAM,gBAAgB,MAAM,CAAA,GAAA,yJAAA,CAAA,iBAAc,AAAD,EAAE;YAAE,MAAM;QAAQ;QAC3D,IAAI,cAAc,gBAAgB,EAAE;YAClC,OAAO;gBACL,MAAM;gBACN,IAAI,IAAI,OAAO,WAAW;gBAC1B,iBAAiB,cAAc,QAAQ;gBACvC,MAAM;YACR;QACF;QAEA,6BAA6B;QAC7B,MAAM,iBAAiB,MAAM,CAAA,GAAA,mJAAA,CAAA,wBAAqB,AAAD,EAAE;YAAE;YAAS;QAAa;QAE3E,OAAO;YACL,MAAM;YACN,IAAI,IAAI,OAAO,WAAW;YAC1B,MAAM,eAAe,OAAO;YAC5B,gBAAgB;gBACd,cAAc,eAAe,YAAY;gBACzC,aAAa,eAAe,WAAW;gBACvC,aAAa,eAAe,WAAW;gBACvC,SAAS,eAAe,OAAO;YACjC;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO;YACL,MAAM;YACN,IAAI,IAAI,OAAO,WAAW;YAC1B,MAAM;QACR;IACF;AACF;;;IA7EsB;IAqCA;IAKA;;AA1CA,+OAAA;AAqCA,+OAAA;AAKA,+OAAA","debugId":null}},
    {"offset": {"line": 612, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/%28app%29/chat/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {postChatMessage as '6087bc593e4875d8997b12f118dcf9333eaf704a2d'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/chat/chat-layout.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ChatLayout = registerClientReference(\n    function() { throw new Error(\"Attempted to call ChatLayout() from the server but ChatLayout is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/chat/chat-layout.tsx <module evaluation>\",\n    \"ChatLayout\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,qEACA","debugId":null}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/chat/chat-layout.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ChatLayout = registerClientReference(\n    function() { throw new Error(\"Attempted to call ChatLayout() from the server but ChatLayout is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/chat/chat-layout.tsx\",\n    \"ChatLayout\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,iDACA","debugId":null}},
    {"offset": {"line": 698, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 708, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/chat/page.tsx"],"sourcesContent":["import { ChatLayout } from '@/components/chat/chat-layout';\nimport { MessageSquare, Heart, Shield } from 'lucide-react';\n\nexport default function ChatPage() {\n  return (\n    <div className=\"h-full flex flex-col\">\n      <div className=\"flex-1\">\n        <ChatLayout />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAGe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,4IAAA,CAAA,aAAU;;;;;;;;;;;;;;;AAInB","debugId":null}}]
}